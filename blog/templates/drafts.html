
{% extends "base.html" %}

{% block content %}

<table class="table">
   <thead>
     <tr>
       <th scope="col">Data</th>
       <th scope="col">Tytuł</th>
       <th scope="col">Treść</th>
       <th scope="col"></th>
     </tr>
   </thead>
   <tbody>
       {% for post in drafts %}
     <tr>
       <td>
           {{ post.pub_date.strftime('%Y-%m-%d') }}
       </td>
       <td>
           <a href="{{ url_for('edit_entry', entry_id=post.id) }}">
               {{ post.title }}
           </a>
       </td>
       <td>{{ post.body|truncate(100, true) }}</td>
        <td class="text-right">
            <div class="d-flex justify-content-end">
           <form action="{{ url_for('delete_entry', entry_id=post.id) }}" method="POST" style="display:inline;">
               <button type="submit" class="btn btn-danger btn-sm">
                   <i class="bi bi-trash3"></i>
                   Usuń szkic
               </button>
           </form>
            <form action="{{ url_for('publish_entry', entry_id=post.id) }}" method="POST" style="display:inline;">
               <button type="submit" class="btn btn-success btn-sm ml-2">
                   <i class="bi bi-check-circle"></i>
                   Publikuj szkic
               </button>
           </form>
            </div>
        </td>

     </tr>
     {% endfor %}
   </tbody>
 </table>

{% endblock %}